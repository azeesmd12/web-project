<div class="table-responsive">
    <table class='table table-sm'>
        <thead>
            <tr class="table-secondary">
                <th scope="col">Id</th>
                <th scope="col">First name</th>
                <th scope="col">Last name</th>
                <th scope="col">Age</th>
                <th scope="col">Gender</th>
                <th scope="col">Salary</th>
                <th scope="col">Loan Amount</th>
                <th scope="col">Balance In Hand</th>
                <th scope="col">Eligible Loan amt</th>
                <th scope="col">Approved Loan</th>
                <th scope="col">Loan Dispatched</th>
                <th scope="col">Status</th>
            </tr>
        </thead>
        <tbody *ngFor="let item of userData">
            <tr *ngIf="editBtn">
                <td>{{item.id}}</td>
                <td>{{item.first_name}}</td>
                <td>{{item.last_name}}</td>
                <td>{{item.age}}</td>
                <td>{{item.gender}}</td>
                <td>{{item.salary}}</td>
                <td>{{item.loan_amount}}</td>
                <td>{{item.balance}}</td>
                <td>{{item.eligible_loan}}</td>
                <td>{{item.approved_loan}}</td>
                <td *ngIf="item.dispatched;else dispatch">Yes</td>
                <ng-template #dispatch><td>No</td></ng-template>
                <td *ngIf="item.status;else status">{{item.status}}</td>
                <ng-template #status><td>Inprogress</td></ng-template>
                <div *ngIf="editBtn==true && item.dispatched==false">
                    <input type="button" value="Edit" class="btn btn-primary btn-sm" (click)="onEdit(item)">
                </div>
            </tr>
        </tbody>
        <tbody *ngIf="updateBtn">
            <tr>
                <td>{{record.id}}</td>
                <td>{{record.first_name}}</td>
                <td>{{record.last_name}}</td>
                <td>{{record.age}}</td>
                <td>{{record.gender}}</td>
                <td>{{record.salary}}</td>
                <td>{{record.loan_amount}}</td>
                <td>{{record.balance}}</td>
                <td>{{record.eligible_loan}}</td>
                <td><input type="number" min="1" max="1000000" [(ngModel)]="record.approved_loan" placeholder="{{record.approved_loan}}" [disabled]="record.status=='Approved'"></td>
                <td>
                    <select [(ngModel)]="record.dispatched">
                        <option selected disabled hidden>select</option>
                        <option>Yes</option>
                        <option>No</option>
                    </select>
                </td>
                <td>
                    <select [(ngModel)]="record.status">
                        <option selected disabled hidden>select</option>
                        <option>Approved</option>
                        <option>Rejected</option>
                    </select> 
                </td>
            </tr>
        </tbody>
        <br/>
        <button *ngIf="updateBtn" (click)="onUpdate(record)" class="btn btn-primary">Update</button>&nbsp;
        <button *ngIf="updateBtn" (click)="onCancel()" class="btn btn-danger">Cancel</button>        
    </table>
    {{successMessage}}
    <input *ngIf="!updateBtn" type="button" (click)="onLogout()" value='Logout' class="btn btn-primary"/>
</div>
